"use strict";jQuery.cookie=function(s,e,t){if(void 0===e){var n=null;if(document.cookie&&""!=document.cookie)for(var i=document.cookie.split(";"),o=0;o<i.length;o++){var r=jQuery.trim(i[o]);if(r.substring(0,s.length+1)==s+"="){n=decodeURIComponent(r.substring(s.length+1));break}}return n}t=t||{},null===e&&(e="",t.expires=-1);var a,p="";t.expires&&("number"==typeof t.expires||t.expires.toUTCString)&&("number"==typeof t.expires?(a=new Date).setTime(a.getTime()+24*t.expires*60*60*1e3):a=t.expires,p="; expires="+a.toUTCString());var h=t.path?"; path="+t.path:"",u=t.domain?"; domain="+t.domain:"",d=t.secure?"; secure":"";document.cookie=[s,"=",encodeURIComponent(e),p,h,u,d].join("")};var reg={username:/^[a-zA-Z]\w{5,18}$/,password:/(?=.{6,18})(?=.*\d)(?=.*[A-Za-z])/,passwords:/(?=.{6,18})(?=.*\d)(?=.*[A-Za-z])(?=.*[!@#$%^&*? ])/,phone:/^1[3|4|5|7|8][0-9]{9}$/,email:/^\w+@\w+(\.[a-zA-Z]+){1,3}$/};function register(){this.username=$("#username"),this.password=$("#password"),this.phone=$("#phone"),this.input=$("input"),this.box=$("#box"),this.txyam=$("#txyam"),this.dxyaz=$("#dxyaz"),this.btn=$("#btn")}$.extend(register.prototype,{init:function(){this.username.on("blur",$.proxy(this.usernames,this)),this.password.on("blur",$.proxy(this.passwords,this)),this.phone.on("blur",$.proxy(this.phones,this)),this.btn.on("click",$.proxy(this.btns,this)),this.input.on("click",$.proxy(this.inputs))},inputs:function(){$(this).parent().css("box-shadow","0 0 2px #37a3ff")},usernames:function(s){var e=s.target,t=this;$.ajax({url:"http://119.23.200.22/Edianzu/dist/php/select.php",data:{uname:t.username.val()},dataType:"json",success:function(s){reg.username.test(t.username.val())?s.status?($(e).next().hide(),$(e).parent().css("border","0")):($(e).val(""),$(e).next().show().find("span").html(s.info)):($(e).val(""),$(e).parent().css("border","1px solid #f00"),$(e).next().show().find("span").html("格式错误（要求5-18首为字母与数字特殊字符的组合）"))}})},passwords:function(){reg.password.test(this.password.val())?(this.password.next().hide(),this.password.parent().css("border","0")):(this.password.val(""),this.password.parent().css("border","1px solid #f00"),this.password.next().show().find("span").html("格式错误（要求6-18英文数字特殊字符的组合）"))},phones:function(){reg.phone.test(this.phone.val())?(this.phone.next().hide(),this.phone.parent().css("border","0")):(this.phone.val(""),this.phone.parent().css("border","1px solid #f00"),this.phone.next().show().find("span").html(" 手机号码格式不正确"))},btns:function(){var s=this;this.username.val()&&this.password.val()&&this.phone.val()?$.ajax({url:"http://119.23.200.22/Edianzu/dist/php/register.php",data:{uname:s.username.val(),upwd:s.password.val(),uphone:s.phone.val()},dataType:"json",success:function(s){alert(s.info),s.status&&(location.href="login.html")}}):alert("请把信息填完整")}}),(new register).init();