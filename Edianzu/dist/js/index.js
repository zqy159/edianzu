"use strict";function common(){this.local=window.localStorage,this.sum=$("#sum")}function banner(){this.banner=$("#banner"),this.aLi=this.banner.find("ul li"),this.btnLeft=$("#direction>a").eq(0),this.btnRight=$("#direction>a").eq(1),this.bn=$("#btn>a"),this.next=0,this.timer=null}function indexHtml(t){this.hot=$("#main"),this.floor=$("#floor"),this.data=t}function floor(){this.fixed=$("#fixed_left"),this.floorBtn=$("#fixed_left>a"),this.index=null,this.toTop=$("#fixed_right a:last")}function help(){this.help=$("#help"),this.helps=$(".help"),this.close=$(".close"),this.wait=$("#help a:first"),this.consult=$("#help a:last")}$.extend(common.prototype,{init:function(){0!=this.local.length?this.sum.html(this.local.sum):this.sum.html(0)}}),$.extend(banner.prototype,{init:function(){this.autoplay(),this.left(),this.right(),this.btn(),this.start(),this.stop()},autoplay:function(){this.timer=setInterval($.proxy(this.autoplays,this),2e3)},autoplays:function(){this.next==this.aLi.length-1?this.next=0:this.next++,this.toimg()},toimg:function(){this.aLi.eq(this.next).stop(!0).fadeIn(500).siblings().fadeOut(500),this.bn.eq(this.next).addClass("bannerActive").siblings().removeClass("bannerActive")},left:function(){this.btnLeft.on("click",$.proxy(this.lefts,this))},lefts:function(){0==this.next?this.next=this.aLi.length-1:this.next--,this.toimg()},right:function(){this.btnRight.on("click",$.proxy(this.rights,this))},rights:function(){this.autoplays()},btn:function(){this.bn.on("mouseover",$.proxy(this.btns,this))},btns:function(t){this.next=$(t.target).index(),this.toimg()},start:function(){var t=this;this.banner.on("mouseout",function(){t.autoplay()})},stop:function(){var t=this;this.banner.on("mouseover",function(){clearInterval(t.timer)})}}),$.extend(indexHtml.prototype,{init:function(){this.hotContent(),this.floorContent()},hotContent:function(){var t='\x3c!-- hot --\x3e<div id="hot" class="clearfix">\n\t\t\t<h2><i class="icon_hotmodel"></i>热销机型</h2>\n\t\t\t<img src="dist/img/hot.png" alt="">\n\t\t\t<div class="hot_left">\n\t\t\t\t<a href="##">\n\t\t\t\t\t<span class=\'product\' data-productId=\''+this.data.hot[0].id+"'>易办公QuickPC E21Pro 台式机</span><br>\n\t\t\t\t\t<i>卓越性能 尽情释放</i><br>\n\t\t\t\t\t<b>"+this.data.hot[0].price+'/月</b><br>\n\t\t\t\t\t<img src="dist/'+this.data.hot[0].img+"\" alt=\"\" class='product' data-productId='"+this.data.hot[0].id+"'>\n\t\t\t\t</a>\n\t\t\t\t\n\t\t\t\t<a href=\"##\">\n\t\t\t\t\t<span class='product' data-productId='"+this.data.hot[1].id+"'>易办公QuickPC E21Pro 台式机</span><br>\n\t\t\t\t\t<i>卓越性能 尽情释放</i><br>\n\t\t\t\t\t<b>"+this.data.hot[1].price+'/月</b><br>\n\t\t\t\t\t<img src="dist/'+this.data.hot[1].img+"\" alt=\"\" class='product' data-productId='"+this.data.hot[1].id+"'>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<div class=\"hot_center\">\n\t\t\t\t<a href=\"##\">\n\t\t\t\t\t<span class='product' data-productId='"+this.data.hot[2].id+"'>易办公QuickPC E21Pro 台式机</span><br>\n\t\t\t\t\t<i>卓越性能 尽情释放</i><br>\n\t\t\t\t\t<b>"+this.data.hot[2].price+'/月</b><br>\n\t\t\t\t\t<img src="dist/'+this.data.hot[2].img+"\" alt=\"\" class='product' data-productId='"+this.data.hot[2].id+"'>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<div class=\"hot_right\">\n\t\t\t\t<a href=\"##\">\n\t\t\t\t\t<span class='product' data-productId='"+this.data.hot[2].id+"'>ThinkPad X220 极速版</span><br>\n\t\t\t\t\t<i>卓越性能 尽情释放</i><br>\n\t\t\t\t\t<b>"+this.data.hot[3].price+'/月</b>\n\t\t\t\t\t<img src="dist/'+this.data.hot[3].img+"\" alt=\"\" class='product' data-productId='"+this.data.hot[2].id+"'>\n\t\t\t\t</a>\n\t\t\t\t<a href=\"##\">\n\t\t\t\t\t<span  class='product' data-productId='"+this.data.hot[4].id+"'>ThinkPad X220 极速版</span><br>\n\t\t\t\t\t<i>卓越性能 尽情释放</i><br>\n\t\t\t\t\t<b>"+this.data.hot[4].price+'/月</b>\n\t\t\t\t\t<img src="dist/'+this.data.hot[4].img+"\" alt=\"\" class='product' data-productId='"+this.data.hot[4].id+"'>\n\t\t\t\t</a>\n\t\t\t\t<a href=\"##\">\n\t\t\t\t\t<span  class='product' data-productId='"+this.data.hot[5].id+"'>ThinkPad X220 极速版</span><br>\n\t\t\t\t\t<i>卓越性能 尽情释放</i><br>\n\t\t\t\t\t<b>"+this.data.hot[5].price+'/月</b>\n\t\t\t\t\t<img src="dist/'+this.data.hot[5].img+"\" alt=\"\" class='product' data-productId='"+this.data.hot[5].id+"'>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>";this.hot.prepend(t)},floorContent:function(){$(window).on("scroll",$.proxy(this.scrolls,this))},scrolls:function(){var t="",i=parseInt($("html").scrollTop())/420-1,o=0,n=0,s=0;for(i=5<=i?5:i,o=0;o<i;o++){for(t+='<div class="floor clearfix">\n\t\t\t<h2 class="f'+(o+1)+'_color"><i class="icon_floor'+(o+1)+'"></i>'+this.data.floor[6*o].h1+'</h2>\n\t\t\t<img src="dist/img/floor'+(o+1)+'.jpg" alt="">\n\t\t\t<div id="t_right">\n\t\t\t<div class="floor_top clearfix">',n=0;n<=3;n++)t+='<a href="##">\n\t\t\t\t<dl >\n\t\t\t\t<dt><img src="dist/'+this.data.floor[6*o+n].img+"\" alt=\"\" class='product' data-productId='"+this.data.floor[6*o+n].id+"'></dt>\n\t\t\t\t<dd><span class='product' data-productId='"+this.data.floor[6*o+n].id+"'>"+this.data.floor[6*o+n].txt+"</span><br>\n\t\t\t\t<b>"+this.data.floor[6*o+n].price+"/月</b>\n\t\t\t\t</dd>\n\t\t\t\t</dl>\n\t\t\t\t</a>";for(t+='</div>\n\t\t\t<div class="floor_bottom clearfix">',s=4;s<=5;s++)t+='<a href="##">\n\t\t\t\t\t<dl href="##">\n\t\t\t\t\t<dt><img src="dist/'+this.data.floor[6*o+s].img+"\" alt=\"\" class='product' data-productId='"+this.data.floor[6*o+s].id+"'></dt>\n\t\t\t\t\t<dd><span  class='product' data-productId='"+this.data.floor[6*o+s].id+"'>"+this.data.floor[6*o+s].txt+"</span><br>\n\t\t\t\t\t<b>"+this.data.floor[6*o+s].price+"/月</b>\n\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t</a>";t+="</div></div></div>"}this.floor.html(t)}}),$.extend(floor.prototype,{init:function(){this.scroll(),this.floorBtn.on("click",$.proxy(this.clicks,this)),this.toTop.on("click",$.proxy(this.top,this))},scroll:function(){$(window).on("scroll",$.proxy(this.scrolls,this))},scrolls:function(){var t=$(window).scrollTop();500<t?this.fixed.show():this.fixed.hide(),this.index=parseInt(t/500)-1,this.toimg()},toimg:function(){var i=this;this.floorBtn.each(function(t){i.floorBtn.eq(i.index).addClass("floorActive").siblings().removeClass("floorActive"),i.floorBtn.eq(i.index).html(i.f1[i.index]),i.floorBtn.eq(t).html(i.f2[t])})},clicks:function(t){$("html").stop(!0).animate({scrollTop:500*($(t.target).index()+1)})},top:function(){$(window).scrollTop(0)},f1:{0:"热销",1:"行政",2:"技术",3:"商务",4:"图形",5:"外设",6:"合作"},f2:{0:"Hot",1:"F1",2:"F2",3:"F3",4:"F4",5:"F5",6:"合作"}}),$.extend(help.prototype,{init:function(){var t=this;setTimeout(function(){t.help.fadeIn(1e3)},5e3),this.close.on("click",function(){t.close.parent().remove()}),this.wait.on("click",function(){t.help.fadeOut(1e3)}),this.helps.on("click",function(){console.log(1),t.help.fadeIn(1e3)})}}),(new help).init(),$("#main").on("click",function(t){var i=t.target;"product"==i.className&&(i.id=i.getAttribute("data-productId"),location.href="dist/html/item.html?"+i.id)});var p1=new Promise(function(i,t){$.ajax({url:"dist/js/product.json",dataType:"json",success:function(t){i(t)}})});p1.then(function(t){new indexHtml(t).init(),(new common).init(),(new banner).init(),(new floor).init()});var txt=$("#txt"),box=$("#txtBox");function handel(t){box.show(),box.html("");for(var i=0;i<5;i++){var o=$("<li></li>");o.html(t.s[i]),box.append(o)}box.on("click",function(t){target=t.target,"LI"==target.tagName&&(txt.val($(target).html()),box.hide())})}$(document).on("click",function(){box.hide()}),txt.on("input",function(){var t=txt.val(),i=$('<script src="http://suggestion.baidu.com/su?cb=handel&wd='+t+'"><\/script>');$("body").append(i),$(i).remove()});